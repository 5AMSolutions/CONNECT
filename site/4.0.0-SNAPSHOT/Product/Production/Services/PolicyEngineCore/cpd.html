<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at Oct 11, 2012
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20121011" />
    <meta http-equiv="Content-Language" content="en" />
    <title>CONNECT Policy Engine Core - CPD Results</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="http://github.com/CONNECT-Solution/CONNECT">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="http://www.connectopensource.org/" id="bannerLeft">
                                                                                        <img src="http://www.connectopensource.org/sites/connectopensource.org/themes/connect/graphics/connect_logo.gif"  alt="CONNECT Solution"/>
                </a>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
            
                  <li id="publishDate">Last Published: 2012-10-11</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 4.0.0-SNAPSHOT</li>
                      
                
            
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
            
                <ul class="nav nav-list">
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                                                              
      <li>
    
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                                                      
      <li>
    
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-down"></i>
        Project Reports</a>
                    <ul class="nav nav-list">
                      
      <li>
    
                          <a href="surefire-report.html" title="Surefire Report">
          <i class="none"></i>
        Surefire Report</a>
            </li>
                      
      <li>
    
                          <a href="checkstyle.html" title="Checkstyle">
          <i class="none"></i>
        Checkstyle</a>
            </li>
                      
      <li>
    
                          <a href="cobertura/index.html" title="Cobertura Test Coverage">
          <i class="none"></i>
        Cobertura Test Coverage</a>
            </li>
                      
      <li>
    
                          <a href="pmd.html" title="PMD Report">
          <i class="none"></i>
        PMD Report</a>
            </li>
                      
      <li class="active">
    
            <a href="#"><i class="none"></i>CPD Report</a>
          </li>
              </ul>
        </li>
            </ul>
                
            
                            <form id="search-form" action="http://www.google.com/search" method="get" >
    
  <input value="$sitesearchValue" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="http://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr class="divider" />

           <div id="poweredBy">
                   
    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>

    
    <div class="g-plusone" data-href="www.connectopensource.org/Product/Production/Services/PolicyEngineCore" data-size="tall" ></div>

                   <div class="clear"></div>
                   
        
        
        
    <iframe src="http://www.facebook.com/plugins/like.php?href=www.connectopensource.org/Product/Production/Services/PolicyEngineCore&send=false&layout=box_count&show-faces=false&action=like&colorscheme=light"
        scrolling="no" frameborder="0"
        style="border:none; width:48px; height:63px; margin-top: 10px;" ></iframe>
               <div class="clear"></div>
               
        
        
        <div id="twitter">
    
    <a href="https://twitter.com/CONNECT_Project" class="twitter-follow-button" data-show-count="true" data-align="left" data-size="medium" data-show-screen-name="true" data-lang="en">Follow CONNECT_Project</a>
    <script type="text/javascript">!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

        </div>
                   <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section"><h2>CPD Results<a name="CPD_Results"></a></h2><p>The following document contains the results of PMD's  <a class="externalLink" href="http://pmd.sourceforge.net/cpd.html">CPD</a> 4.3.</p></div><div class="section"><h2>Duplications<a name="Duplications"></a></h2><table border="0" class="table table-striped"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>gov/hhs/fha/nhinc/policyengine/adapter/pip/XACMLExtractor.java</td><td>215</td></tr><tr class="a"><td>gov/hhs/fha/nhinc/policyengine/adapter/pip/XACMLExtractor.java</td><td>262</td></tr><tr class="b"><td colspan='2'><div><pre>    private UserIdFormatType extractUserIdFormatFromSubject(RuleType oRule) {
        // Extract any values from the Resource section...
        // ------------------------------------------------
        if ((oRule != null) &amp;&amp; (oRule.getTarget() != null) &amp;&amp; (oRule.getTarget().getSubjects() != null)
                &amp;&amp; (oRule.getTarget().getSubjects().getSubject() != null)
                &amp;&amp; (oRule.getTarget().getSubjects().getSubject().size() &gt; 0)) {
            List&lt;SubjectType&gt; olSubject = oRule.getTarget().getSubjects().getSubject();
            for (SubjectType oSubject : olSubject) {
                if ((oSubject != null) &amp;&amp; (oSubject.getSubjectMatch() != null)
                        &amp;&amp; (oSubject.getSubjectMatch().size() &gt; 0)) {
                    List&lt;SubjectMatchType&gt; olSubjMatch = oSubject.getSubjectMatch();
                    for (SubjectMatchType oSubjMatch : olSubjMatch) {
                        if ((oSubjMatch != null)
                                &amp;&amp; (oSubjMatch.getSubjectAttributeDesignator() != null)
                                &amp;&amp; (oSubjMatch.getSubjectAttributeDesignator().getAttributeId() != null)
                                &amp;&amp; (oSubjMatch.getSubjectAttributeDesignator().getAttributeId()
                                        .equals(XACMLConstants.SUBJECT_USER_ID))</pre></div></td></tr></table><table border="0" class="table table-striped"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>gov/hhs/fha/nhinc/policyengine/adapter/pip/PatientConsentDocumentBuilderHelper.java</td><td>387</td></tr><tr class="a"><td>gov/hhs/fha/nhinc/policyengine/adapter/pip/PatientConsentDocumentBuilderHelper.java</td><td>413</td></tr><tr class="b"><td colspan='2'><div><pre>    private void setServiceStartTime(List&lt;oasis.names.tc.ebxml_regrep.xsd.rim._3.SlotType1&gt; oSlots,
            PatientPreferencesType oPtPref, oasis.names.tc.ebxml_regrep.xsd.rim._3.ObjectFactory oRimObjectFactory,
            String sDocUniqueId, String sMimeType) {
        if ((oSlots != null) &amp;&amp; (oRimObjectFactory != null)) {
            if (oPtPref != null) {
                if (PDF_MIME_TYPE.equals(sMimeType) &amp;&amp; oPtPref.getBinaryDocumentPolicyCriteria() != null
                        &amp;&amp; oPtPref.getBinaryDocumentPolicyCriteria().getBinaryDocumentPolicyCriterion() != null
                        &amp;&amp; !oPtPref.getBinaryDocumentPolicyCriteria().getBinaryDocumentPolicyCriterion().isEmpty()) {
                    for (BinaryDocumentPolicyCriterionType eachBinaryDocumentPolicyCriteria : oPtPref
                            .getBinaryDocumentPolicyCriteria().getBinaryDocumentPolicyCriterion()) {
                        if (sDocUniqueId.equals(eachBinaryDocumentPolicyCriteria.getDocumentUniqueId())) {
                            oSlots.add(createSlot(oRimObjectFactory, CDAConstants.SLOT_NAME_SERVICE_START_TIME,</pre></div></td></tr></table><table border="0" class="table table-striped"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>gov/hhs/fha/nhinc/policyengine/adapter/pip/QueryUtil.java</td><td>75</td></tr><tr class="a"><td>gov/hhs/fha/nhinc/policyengine/adapter/pip/QueryUtil.java</td><td>184</td></tr><tr class="b"><td colspan='2'><div><pre>        if ((oResponse != null) &amp;&amp; (oResponse.getRegistryObjectList() != null)
                &amp;&amp; (oResponse.getRegistryObjectList().getIdentifiable() != null)
                &amp;&amp; (oResponse.getRegistryObjectList().getIdentifiable().size() &gt; 0)) {
            List&lt;JAXBElement&lt;? extends IdentifiableType&gt;&gt; olRegObjs = oResponse.getRegistryObjectList()
                    .getIdentifiable();

            for (JAXBElement&lt;? extends IdentifiableType&gt; oJAXBObj : olRegObjs) {
                if ((oJAXBObj != null)
                        &amp;&amp; (oJAXBObj.getDeclaredType() != null)
                        &amp;&amp; (oJAXBObj.getDeclaredType().getCanonicalName() != null)
                        &amp;&amp; (oJAXBObj.getDeclaredType().getCanonicalName()
                                .equals(&quot;oasis.names.tc.ebxml_regrep.xsd.rim._3.ExtrinsicObjectType&quot;))
                        &amp;&amp; (oJAXBObj.getValue() != null)) {
                    ExtrinsicObjectType oExtObj = (ExtrinsicObjectType) oJAXBObj.getValue();</pre></div></td></tr></table><table border="0" class="table table-striped"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>gov/hhs/fha/nhinc/policyengine/adapter/pip/XACMLExtractor.java</td><td>113</td></tr><tr class="a"><td>gov/hhs/fha/nhinc/policyengine/adapter/pip/XACMLExtractor.java</td><td>144</td></tr><tr class="b"><td colspan='2'><div><pre>        boolean bReturnVal = false;

        if ((oConsentXACML != null)
                &amp;&amp; (oConsentXACML.getCombinerParametersOrRuleCombinerParametersOrVariableDefinition() != null)
                &amp;&amp; (oConsentXACML.getCombinerParametersOrRuleCombinerParametersOrVariableDefinition().size() == 1)
                &amp;&amp; (oConsentXACML.getCombinerParametersOrRuleCombinerParametersOrVariableDefinition().get(0) instanceof RuleType)) {
            RuleType oRule = (RuleType) oConsentXACML
                    .getCombinerParametersOrRuleCombinerParametersOrVariableDefinition().get(0);

            // Make sure that the target is null or if there is a target, that it has no children.
            // -------------------------------------------------------------------------------------
            if ((oRule.getTarget() == null)
                    || ((oRule.getTarget() != null) &amp;&amp; (oRule.getTarget().getActions() == null)
                            &amp;&amp; (oRule.getTarget().getEnvironments() == null)
                            &amp;&amp; (oRule.getTarget().getResources() == null) &amp;&amp; (oRule.getTarget().getSubjects() == null))) {</pre></div></td></tr></table><table border="0" class="table table-striped"><tr class="a"><th>File</th><th>Line</th></tr><tr class="b"><td>gov/hhs/fha/nhinc/policyengine/adapter/pip/PatientConsentDocumentBuilderHelper.java</td><td>387</td></tr><tr class="a"><td>gov/hhs/fha/nhinc/policyengine/adapter/pip/PatientConsentDocumentBuilderHelper.java</td><td>413</td></tr><tr class="b"><td>gov/hhs/fha/nhinc/policyengine/adapter/pip/PatientConsentDocumentBuilderHelper.java</td><td>438</td></tr><tr class="a"><td colspan='2'><div><pre>    private void setServiceStartTime(List&lt;oasis.names.tc.ebxml_regrep.xsd.rim._3.SlotType1&gt; oSlots,
            PatientPreferencesType oPtPref, oasis.names.tc.ebxml_regrep.xsd.rim._3.ObjectFactory oRimObjectFactory,
            String sDocUniqueId, String sMimeType) {
        if ((oSlots != null) &amp;&amp; (oRimObjectFactory != null)) {
            if (oPtPref != null) {
                if (PDF_MIME_TYPE.equals(sMimeType) &amp;&amp; oPtPref.getBinaryDocumentPolicyCriteria() != null
                        &amp;&amp; oPtPref.getBinaryDocumentPolicyCriteria().getBinaryDocumentPolicyCriterion() != null
                        &amp;&amp; !oPtPref.getBinaryDocumentPolicyCriteria().getBinaryDocumentPolicyCriterion().isEmpty()) {
                    for (BinaryDocumentPolicyCriterionType eachBinaryDocumentPolicyCriteria : oPtPref
                            .getBinaryDocumentPolicyCriteria().getBinaryDocumentPolicyCriterion()) {
                        if (sDocUniqueId.equals(eachBinaryDocumentPolicyCriteria.getDocumentUniqueId())) {</pre></div></td></tr></table><table border="0" class="table table-striped"><tr class="b"><th>File</th><th>Line</th></tr><tr class="a"><td>gov/hhs/fha/nhinc/policyengine/adapter/pip/QueryUtil.java</td><td>92</td></tr><tr class="b"><td>gov/hhs/fha/nhinc/policyengine/adapter/pip/QueryUtil.java</td><td>208</td></tr><tr class="a"><td colspan='2'><div><pre>                    if ((oExtObj.getSlot() != null) &amp;&amp; (oExtObj.getSlot().size() &gt; 0)) {
                        List&lt;SlotType1&gt; olSlot = oExtObj.getSlot();
                        for (SlotType1 oSlot : olSlot) {
                            if ((oSlot.getName() != null)
                                    &amp;&amp; (oSlot.getName().equals(CDAConstants.SLOT_NAME_SOURCE_PATIENT_ID))
                                    &amp;&amp; (oSlot.getValueList() != null) &amp;&amp; (oSlot.getValueList().getValue() != null)
                                    &amp;&amp; (oSlot.getValueList().getValue().size() &gt; 0)
                                    &amp;&amp; (oSlot.getValueList().getValue().get(0).length() &gt; 0)) {</pre></div></td></tr></table><table border="0" class="table table-striped"><tr class="b"><th>File</th><th>Line</th></tr><tr class="a"><td>gov/hhs/fha/nhinc/policyengine/adapter/pip/CdaPdfExtractor.java</td><td>453</td></tr><tr class="b"><td>gov/hhs/fha/nhinc/policyengine/adapter/pip/CdaPdfExtractor.java</td><td>657</td></tr><tr class="a"><td colspan='2'><div><pre>                oOriginalAuthor.setAuthorTime(oHL7Author.getTime().getValue());
                bHaveData = true;
            }

            if ((oHL7Author.getAssignedAuthor() != null) &amp;&amp; (oHL7Author.getAssignedAuthor().getId() != null)
                    &amp;&amp; (oHL7Author.getAssignedAuthor().getId().size() &gt; 0)
                    &amp;&amp; (oHL7Author.getAssignedAuthor().getId().get(0) != null)) // There should only be one - if more
                                                                                // then we will use the first.
            {
                // Assigned Person Assigning Authority
                // -------------------------------------
                if ((oHL7Author.getAssignedAuthor().getId().get(0).getRoot() != null)
                        &amp;&amp; (oHL7Author.getAssignedAuthor().getId().get(0).getRoot().length() &gt; 0)) {</pre></div></td></tr></table><table border="0" class="table table-striped"><tr class="b"><th>File</th><th>Line</th></tr><tr class="a"><td>gov/hhs/fha/nhinc/policyengine/adapter/pip/CdaPdfCreator.java</td><td>650</td></tr><tr class="b"><td>gov/hhs/fha/nhinc/policyengine/adapter/pip/CdaPdfCreator.java</td><td>790</td></tr><tr class="a"><td colspan='2'><div><pre>        II oTemplateId = createII(CDAConstants.TEMPLATE_ID_ROOT_AUTHOR_ORIGINAL, null);
        if (oTemplateId != null) {
            oHL7Author.getTemplateId().add(oTemplateId);
            bHaveData = true;
        }
        if (oAuthor != null) {

            // Time
            // ------
            TSExplicit oTime = createTS(oAuthor.getAuthorTime());
            if (oTime != null) {
                oHL7Author.setTime(oTime);
                bHaveData = true;
            }

            // Assigned Author
            // ----------------
            POCDMT000040AssignedAuthor oAssignedAuthor = new POCDMT000040AssignedAuthor();
            boolean bHaveAssignedAuthorData = false;

            // Author ID
            // ----------
            II oAuthorId = createII(oAuthor.getAuthorIdAssigningAuthority(), oAuthor.getAuthorId());
            if (oAuthorId != null) {
                oAssignedAuthor.getId().add(oAuthorId);
                bHaveAssignedAuthorData = true;
            }</pre></div></td></tr></table><table border="0" class="table table-striped"><tr class="b"><th>File</th><th>Line</th></tr><tr class="a"><td>gov/hhs/fha/nhinc/policyengine/adapter/pip/proxy/AdapterPIPProxyNoOpImpl.java</td><td>65</td></tr><tr class="b"><td>gov/hhs/fha/nhinc/policyengine/adapter/pip/proxy/AdapterPIPProxyOptInNoOpImpl.java</td><td>65</td></tr><tr class="a"><td colspan='2'><div><pre>        log.debug(&quot;Begin AdapterPIPProxyNoOpImpl.retrievePtConsentByPtId&quot;);
        RetrievePtConsentByPtIdResponseType oResponse = new RetrievePtConsentByPtIdResponseType();
        PatientPreferencesType oPref = new PatientPreferencesType();
        oResponse.setPatientPreferences(oPref);

        if ((request != null) &amp;&amp; (request.getAssigningAuthority() != null)) {
            oPref.setAssigningAuthority(request.getAssigningAuthority());
        } else {
            oPref.setAssigningAuthority(&quot;&quot;);
        }

        if ((request != null) &amp;&amp; (request.getPatientId() != null)) {
            oPref.setPatientId(request.getPatientId());
        } else {
            oPref.setPatientId(&quot;&quot;);
        }

        oPref.setOptIn(false);</pre></div></td></tr></table></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                   2012.
          All Rights Reserved.      
            
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
